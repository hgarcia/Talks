{"body":"<pre><code class=\"lang-csharp\">\n<span class=\"hljs-comment\">//Implements IPayment</span>\n <span class=\"hljs-comment\">// get request from the UI</span>\n  <span class=\"hljs-keyword\">var</span> paymentRequestValidator = PaymentRequestValidatorFactory.Create(request.body);\n\n  <span class=\"hljs-keyword\">var</span> paymentRequest = paymentRequestValidator.validate();\n\n  <span class=\"hljs-keyword\">var</span> paymentProviderPayloadAdapter = PaymentProviderPayloadAdapterFactory.Create(paymentRequest.<span class=\"hljs-keyword\">type</span>);\n\n  <span class=\"hljs-keyword\">var</span> paymentProvider = PaymentProviderFactory.Create(paymentRequest, config); <span class=\"hljs-comment\">//Implements IProviderFactory</span>\n\n  <span class=\"hljs-keyword\">var</span> paymentProviderResponse = paymentProvider.Pay(paymentProviderPayloadAdapter.adaptRequest(paymentRequest));\n\n  <span class=\"hljs-keyword\">var</span> adaptedResponse = paymentProviderPayloadAdapter.adaptRequest(paymentProviderResponse);\n  <span class=\"hljs-comment\">// send response up to the user</span>\n</code></pre>\n<blockquote>\n<p>Look at all the mappings we are doing</p>\n<p>And we are not even handling any errors here.</p>\n</blockquote>\n","updatedAt":"2017-04-07T04:42:56.000Z"}