{"body":"<pre><code class=\"lang-elixir\">\n<span class=\"hljs-comment\">//there is an error, so we just send it up the pipe.</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">prepare_payment_request</span></span>({:error, error}) do {:error, error}\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">prepare_payment_request</span></span>({:ok, payment}) when payment.<span class=\"hljs-keyword\">type</span> === <span class=\"hljs-string\">\"PP\"</span> do\n  <span class=\"hljs-comment\">// code for PP</span>\nend\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">prepare_payment_request</span></span>({:ok, payment}) when payment.<span class=\"hljs-keyword\">type</span> === <span class=\"hljs-string\">\"AN\"</span> do\n  <span class=\"hljs-comment\">// code for AN</span>\nend\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">prepare_payment_request</span></span>({:ok, payment}) do\n  <span class=\"hljs-comment\">// code for ???</span>\nend\n</code></pre>\n<blockquote>\n<p>Much elegant</p>\n</blockquote>\n","updatedAt":"2017-04-07T04:42:56.000Z"}